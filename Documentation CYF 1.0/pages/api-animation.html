<!DOCTYPE html>
<!--
since you're here anyway: there's a small easter egg on the text commands page but it's probably not worth finding, sorry
you may notice this page's code is garbage: i'm not a web designer! ;-;
it's w3c valid, at least
-->

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>CYF ドキュメント - スプライト &amp; アニメーション</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../css/themesidebar.css" rel="stylesheet">
    <link href="../css/shThemeRDark.css" rel="stylesheet">

    <!-- Syntax highlighting -->
    <script type="text/javascript" src="../js/shCore.js"></script>
    <script type="text/javascript" src="../js/shBrushLua.js"></script>
    <script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<body>
<img src="../img/bg2.png" alt="Undertale background" class="backimg">
<div class="container arena black">
    <div class="col-md-2">
        <!--navigation-->
        <nav class="nav-sidebar">
            <ul class="nav tabs">
                <li class="li-header">基本</li>
                    <li><a href="../documentation.html">ようこそ</a></li>
                    <li><a href="howtoread.html">このドキュメントの読み方</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li><a href="controls.html">操作方法</a></li>
                    <li><a href="basic.html">基本構成</a></li>
                    <li><a href="unity.html"><span class="CYF"></span> Unity Setup (Optional)</a></li>
                    <li><a href="variables.html">予約変数</a></li>
                    <li><a href="terms.html">用語</a></li>
                <li class="li-header">API</li>
                    <li><a href="api-text.html">テキストコマンド</a></li>
                    <li class="new"><a href="api-events.html">ゲームイベント</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="li-indent">関数 &amp; オブジェクト:</li>
                        <li class="li-indent new"><a href="api-functions-main.html">その他の関数</a></li>
                        <li class="li-indent new"><a href="api-functions-player.html">Player オブジェクト</a></li>
                        <li class="li-indent"><a href="api-functions-script.html">Script オブジェクト</a></li>
                        <li class="li-indent"><a href="api-functions-audio.html">Audio オブジェクト</a></li>
                        <li class="li-indent"><a href="api-functions-newaudio.html"><span class="CYF"></span> NewAudio オブジェクト</a></li>
                        <li class="li-indent"><a href="api-functions-input.html">Input オブジェクト</a></li>
                        <li class="li-indent"><a href="api-functions-time.html">Time オブジェクト</a></li>
                        <li class="li-indent"><a href="cyf-inventory.html"><span class="CYF"></span> Inventory オブジェクト</a></li>
                        <li class="li-indent new"><a href="api-functions-misc.html"><span class="CYF"></span>Misc オブジェクト</a></li>
                        <li class="li-indent new"><a href="api-functions-discord.html"><span class="CYF"></span> The Discord Object</a></li>
                        <li class="li-indent"><a href="api-functions-waves.html">Arena オブジェクト</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li><a href="api-projectile.html">発射体(Projectile) 制御</a></li>
                    <li><a href="cyf-ppcollision.html"><span class="CYF"></span> The Pixel-Perfect Collision システム</a></li>
                    <li class="active new" style="margin-left:5px;">&gt; スプライト &amp; アニメーション &lt;</li>
                    <li class="new"><a href="cyf-text.html"><span class="CYF"></span> Text オブジェクト</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                <li class="li-header"></span><span class="CYF"></span> <span class="new"></span>Shaders</li>
                    <li><a href="shaders.html">Introduction</a></li>
                    <li><a href="shaders-object.html">The Shader Object</a></li>
                    <li><a href="shaders-coding.html">Coding a Shader</a></li>
                    <hr style="margin-top:10px;margin-bottom:10px;">
                <li class="li-header"><span class="CYF"></span> Overworld</li>
                    <li class="new"><a href="overworld.html">Basics</a></li>
                    <li><a href="overworld-howto-map.html">How to create a map</a></li>
                    <li><a href="overworld-howto-event.html">How to create an event</a></li>
                    <li><a href="overworld-howto-animevent.html">How to animate an event</a></li>
                    <li class="new"><a href="overworld-howto-shop.html">How to create a shop</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="li-indent"><span class="CYF"></span> Overworld Objects:</li>
                        <li class="li-indent"><a href="overworld-object-general.html">The General Object</a></li>
                        <li class="li-indent"><a href="overworld-object-event.html">The Event Object</a></li>
                        <li class="li-indent"><a href="overworld-object-player.html">The Player Object</a></li>
                        <li class="li-indent"><a href="overworld-object-screen.html">The Screen Object</a></li>
                        <li class="li-indent"><a href="overworld-object-inventory.html">The Inventory Object</a></li>
                        <li class="li-indent new"><a href="overworld-object-map.html">The Map Object</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                <li class="li-header">素材</li>
                    <li><a href="../media/dialogoptions.png">吹き出し一覧</a></li>
                    <li><a href="api-keys.html"><span class="CYF"></span> キーリスト</a></li>
            </ul>
        </nav>
    </div>
    <!--tabs'n'shit-->
    <div class="tab-content col-md-10">
        <div class="tab-pane active text-style" id="api-animation">
            <h2>スプライト &amp; アニメーション</h2><br><br>
            <p>
                <br><span class="function"><span class="CYF"></span> CreateLayer(<span class="string"></span> name,
                <span class="string"></span> position = "BelowArena", <span class="boolean"></span> below = false) <span class="new"></span> returns <span class="boolean"></span> [E/M/W]</span>
                スプライトを配置できる <span class="term">name</span> と言う名前のスプライトレイヤーを追加します。新たなレイヤーを作成するには既存のスプライトレイヤーを指定する必要があります。 <span class="new"></span> レイヤーが正常に作成された場合は<span class="term">true</span>、そうでない場合は<span class="term">false</span>を返します。
                <br><br>
                <span class="term">position</span>は次の３つのどれかを指定します:
                <ul>
                    <li><span class="term">(既存のスプライトレイヤー名)</span>: 新しいレイヤーは、指定したレイヤーの上または下に作成されます。<br>
                    デフォルトで存在するレイヤーと<span class="term">below</span>引数については下記を参照してください。</li>
                    <li><span class="term">"VeryHighest"</span>: 新しいレイヤーは１番上(１番高く)に作成されます。<br>
                    <b>これはdebuggerよりも上を指定できます！</b></li>
                    <li><span class="term">"VeryLowest"</span>: 新しいレイヤーは１番下(１番低く)に作成されます。</li>
                </ul>
                <br>
                <span class="term">below</span>をtrueに指定すると、<span class="term">position</span>で指定したレイヤーの下に新しいレイヤーが作成されます。
                falseを指定すれば上に作成されます。
                <br><br>
                デフォルトで存在するレイヤー:
                <ul>
                    <li><span class="term">"Bottom"</span>: 全てにおいて下で、背景よりも下。</li><br>
                    <li><span class="term">"BelowUI"</span>: 背景の上。</li><br>
                    <li><span class="term">"BelowArena" or "BasisNewest"</span>: 背景とUIの上。</li><br>
                    <li><span class="term">"BelowPlayer"</span>: 背景やUI、アリーナの上</li><br>
                    <li><span class="term">"BelowBullet"</span>: 背景やUI、アリーナ、プレイヤーの上</li><br>
                    <li><span class="term">"Top"</span>: 全てにおいて上。</li><br>
                </ul>
            </p>

            <p>
                <br><span class="function">CreateSprite(<span class="string"></span> spritename,
                <span class="CYF"></span> <span class="string"></span> layer = "BelowArena", <span class="number"></span> childNumber = -1) returns <span class="userdata">sprite</span> [E/M/W]</span>
                画面の中央(320, 240)にスプライトを作成して、様々な方法でスプライトを制御します。
                <br><br>
                <span class="CYF"></span> You can add a layer if you want - otherwise, the sprite will be below the arena.<br>
                From in the Overworld, the default value for <span class="term">layer</span> is <span class="term">"Default"</span> instead.<br>
                Enter <span class="term">"none"</span> to spawn your sprite outside of any layers, in the same way that the player is by default
                (although this doesn't have much use).
                <br><br>
                <span class="CYF"></span> In CYF, you can provide a number argument for <span class="term">childNumber</span> if you want.<br>
                Leave it as <span class="term">-1</span> to have it move to the top of whatever layer it's placed on (default behavior), or
                choose a numbered index you want it to appear in, with <span class="term">1</span> being the very bottom-most in the layer,
                and higher numbers moving it above other elements in sequence.
                <br><br>
                The best way to see what order sprites come in in their respective layers is to download Unity, playtest your mod in it, and
                look at the order of game objects in the Inspector. See <span class="ref">Unity Setup (Optional)</span> for instructions on this
                (note that this is optional and only if you would like a better understanding of how layers work).
                <br><br>
                <span class="function"><span class="CYF"></span> CreateSprite(<span class="string"></span> spritename,
                <span class="number"></span> childNumber = -1) returns <span class="userdata">sprite</span> [E/M/W]</span>
                The same as <span class="term">CreateSprite</span> listed above, except you only need to provide a sprite name and child number.<br>
                Uses the default layer <span class="term">"BelowArena"</span> in battles, or <span class="term">"Default"</span> in the Overworld.
            </p>

            <hr>
            <h4>Sprite オブジェクト</h4>

            <p>
                Spriteオブジェクトにはアニメーション用の多くのメソッドがあります。Examplesフォルダに実用的な例があります。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="string"></span> sprite.spritename (readonly)</span>
                このスプライトのファイル名を返します。ファイルのパスは<span class="term">Sprites/</span>以降から返します。</li><br>
            </p><br>

            <p>
                <span class="function"><span class="number"></span> sprite.x</span></span>
                画面左下端を基準にしたスプライトのx座標(水平座標), measured from its pivot/anchor point (center by default).
                <br><br>
                If parented, x position is relative to the parent.
            </p><br>

            <p>
                <span class="function"><span class="number"></span> sprite.y</span></span>
                画面左下端を基準にしたスプライトのy座標(垂直座標), measured from its pivot/anchor point (center by default).
                <br><br>
                If parented, y position is relative to the parent.
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="number"></span> sprite.z</span></span>
                Layering position of sprite <i>in the Overworld only</i>. A negative number brings it forward (closer to the camera), a positive
                number sends it backwards (farther into the background).
                <br><br>
                Note that the only thing this will affect is how your sprite and its children appear in front of the Player and Event objects.<br>
                This variable can NOT be used to circumvent the layering system for regular sprites.
                <br><br>
                If parented, z position is relative to the parent.
            </p><br>

            <p>
                <span class="function"><span class="number"></span> sprite.absx</span></span>
                画面左下端を基準にしたスプライトのx座標(水平座標)。親オブジェクトやピボット、アンカーを無視します。
            </p><br>

            <p>
                <span class="function"><span class="number"></span> sprite.absy</span></span>
                画面左下端を基準にしたスプライトのy座標(垂直座標)。親オブジェクトやピボット、アンカーを無視します。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="number"></span> sprite.absz</span></span>
                Layering position of sprite <i>in the Overworld only</i>. A negative number brings it forward (closer to the camera), a positive
                number sends it backwards (farther into the background).
                <br><br>
                Same as <span class="term">sprite.z</span>, except that if this sprite has a parent, <span class="term">sprite.absz</span> will not
                be relative to the z value of the parent.
            </p><br>

            <p>
                <span class="function"><span class="number"></span> sprite.xscale</span></span>
                スプライトのx方向(水平方向)の倍率。(デフォルトで<span class="term">1.0</span>)
                <span class="term">2.0</span>で２倍の大きさになり、 <span class="term">0.5</span>で半分の大きさになります。
                <br><br>
                Scaling applies based on the sprite's pivot point - see <span class="term">SetPivot</span>,
                <span class="CYF"></span><span class="term">xpivot</span> and <span class="term">ypivot</span>.<br>
                <span class="CYF"></span> However, in the Overworld, Event object sprites ignore pivot when scaling.
            </p><br>

            <p>
                <span class="function"><span class="number"></span> sprite.yscale</span></span>
                スプライトのy方向(垂直方向)の倍率。(デフォルトで<span class="term">1.0</span>)
                <span class="term">2.0</span>で２倍の大きさになり、 <span class="term">0.5</span>で半分の大きさになります。
                <br><br>
                Scaling applies based on the sprite's pivot point - see <span class="term">SetPivot</span>,
                <span class="CYF"></span><span class="term">xpivot</span> and <span class="term">ypivot</span>.<br>
                <span class="CYF"></span> However, in the Overworld, Event object sprites ignore pivot when scaling.
            </p><br>

            <p>
                <span class="function"><span class="boolean"></span> sprite.isactive (readonly)</span></span>
                <span class="unitale"></span> スプライトが削除されている場合は<span class="term">true</span>、削除されていない場合は<span class="term">false</span>を返します。<br>
                <span class="CYF"></span> <b>retromodeの場合、0.2.1aと同じ動作をします。</b><br>
                retromodeでない場合、スプライトが削除されている場合は<span class="term">false</span>、削除されていない場合は<span class="term">true</span>を返します。
            </p><br>

            <p>
                <span class="function"><span class="number"></span> sprite.width (読み取り専用)</span></span>
                スプライトの画像の幅のサイズをピクセル単位で返します。
                <br><br>
                これはスプライト自体が交換されない限り変わりません。
                <br><br>
                メモ: <span class="term">sprite.xscale</span>で倍率が変わってもこの値は変わりません。
            </p><br>

            <p>
                <span class="function"><span class="number"></span> sprite.height (読み取り専用)</span></span>
                スプライトの画像の高さのサイズをピクセル単位で返します。
                <br><br>
                これはスプライト自体が交換されない限り変わりません。
                <br><br>
                メモ: <span class="term">sprite.yscale</span>で倍率が変わってもこの値は変わりません。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="number"></span> sprite.xpivot</span></span>
                Horizontal pivot point of the sprite. <span class="term">0</span> is the left side, and <span class="term">1</span> is the right side.<br>
                Can be any number inside or outside of this range.
                <br><br>
                <span class="term">0.5</span> by default.
                <br><br>
                See <span class="term">sprite.SetPivot</span>.
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="number"></span> sprite.ypivot</span></span>
                Vertical pivot point of the sprite. <span class="term">0</span> is the bottom side, and <span class="term">1</span> is the top side.<br>
                Can be any number inside or outside of this range.
                <br><br>
                <span class="term">0.5</span> by default.
                <br><br>
                See <span class="term">sprite.SetPivot</span>.
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="boolean"></span> sprite.animcomplete (読み取り専用)</span></span>
                スプライトがアニメーションを開始して、そのアニメーションが完了したかを表します。
                <br><br>
                スプライトがアニメーションしていないか、アニメーションのループモードが<span class="term">LOOP</span>であるか、
                もしくはアニメーションが終了していない場合は<span class="term">false</span>を返します。それ以外は<span class="term">true</span>を返します。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="number"></span> sprite.currentframe</span></span>
                スプライトがアニメーションしている場合に、アニメーション内のフレーム数(フレームのインデックス)を表します。<br>
                アニメーションをしていない場合は(常に(?))<span class="term">0</span>を返します。
                <br><br>
                例) 以下のコードが動作している場合:
                <div class="code-container">
                <pre class="brush: lua;">
                sprite.SetAnimation({"sans_head1", "sans_head2", "sans_head3", "sans_head2"})
                </pre>
                </div>
                最初の画像("sans_head1")が表示されている間は <span class="term">1</span>、２番目の画像("sans_head2")が表示されている間は <span class="term">2</span>のように続き、最後の画像("sans_head4")が表示されると最大の <span class="term">4</span>になります。
                <br><br>
                同様に、上記の例で<span class="term">sprite.currentframe = 3</span>を指定すると、
                スプライトの画像が<span class="term">"sans_head3"</span>になります。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="number"></span> sprite.currenttime</span></span>
                スプライトがアニメーションしている場合に、アニメーションの現在の再生時間を秒単位で表します。
                取得及び設定が可能です。
                <br><br>
                スプライトがアニメーションしていない場合は<span class="term">0</span>になります。
                <br><br>
                これは<span class="term">NewAudio.GetPlayTime</span> / <span class="term">NewAudio.GetCurrentTime</span>と機能が似ています。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="number"></span> sprite.totaltime (read-only)</span></span>
                スプライトがアニメーションしている場合に、アニメーションの(合計)再生時間を秒単位で表します。
                <!--読み取り及び代入が可能......!?--><br>
                これはアニメーションの実行速度に基づいており、常に
                (<span class="term">sprite.animationspeed</span> * スプライトのアニメーションのフレーム数)に等しいことに注意してください。
                <br><br>
                スプライトがアニメーションしていない場合は<span class="term">0</span>を返します。
                <br><br>
                これは<span class="term">NewAudio.GetTotalTime</span>と機能が似ています。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="number"></span> sprite.animationspeed</span></span>
                スプライトがアニメーションしている場合に、各フレームの再生時間を秒単位で表します。
                <br><br>
                取得と設定が可能ですが、必ず0より大きい値を代入してください。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="boolean"></span> sprite.animationpaused</span></span>
                スプライトがアニメーションしている場合、これを<span class="term">true</span>にしてアニメーションを一時停止にしたり、<span class="term">false</span>にして再開させたりできます。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="string"></span> sprite.loopmode</span></span>
                スプライトのアニメーションのループモードを取得するか<br>
                スプライトのアニメーションの<u>次の</u>ループモードを設定します。
                <br><br>
                設定できる値は次の通り:<br><br>
                <ul>
                    <li><span class="term">LOOP</span> - デフォルトで設定されています。アニメーションが最後のフレームになると、また最初に戻って再生されます。
                    <span class="term">animcomplete</span>は常にfalseを返します。</li><br>
                    <li><span class="term">ONESHOT</span> - アニメーションを１度だけ再生します。スプライトの画像は最終的に最後のフレームになります。</li><br>
                    <li><span class="term">ONESHOTEMPTY</span> - ほとんど<span class="term">ONESHOT</span>と同じですが、アニメーションの最後は空のスプライト("empty")になります。</li><br>
                </ul>
            </p><br>

            <p>
                <span class="function"><span class="luatable"><span class="number"></span>, <span class="number"></span>, <span class="number"></span>, <span class="CYF"></span> <span class="number"></span> = 1 </span> sprite.color</span></span>
                スプライトの色を 0 ～ 1 で３つまたは４つの配列で表します。
                <br><br>
                例) <span class="term">sprite.color = {1.0, 0.0, 0.0}</span>はスプライトを赤色にします。この着色に関して、実際は
                    スプライトの元の色から色を重ねてているため、スプライトの色をこれで制御する場合は、画像の色を白色にする必要があります。
                    <i>黒色の部分はこの着色の効果を受けません。</i>
                    <br><br>
                    <span class="CYF"></span>: 配列の４番目をアルファ値(透明度)として設定できます。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="luatable"><span class="number"></span>, <span class="number"></span>, <span class="number"></span>, <span class="number"></span> = 255 </span> sprite.color32</span></span>
                スプライトの色を 0 ～ 255 で３つまたは４つの配列で表します。
                <br><br>
                例) <span class="term">sprite.color32 = {255, 0, 0}</span>はスプライトを赤色にします。この着色に関して、実際は
                    スプライトの元の色から色を重ねてているため、スプライトの色をこれで制御する場合は、画像の色を白色にする必要があります。
                    <i>黒色の部分はこの着色の効果を受けません。</i>
                    <br><br>
                    <span class="CYF"></span>: 配列の４番目をアルファ値(透明度)として設定できます。
            </p><br>

            <p>
                <span class="function"><span class="number"></span> sprite.alpha</span></span>
                スプライトの透明度を 0 ～ 1 として表します。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="number"></span> sprite.alpha32</span></span>
                スプライトの透明度を 0 ～ 255 として表します。
            </p><br>

            <p>
                <span class="function"><span class="number"></span> sprite.rotation</span></span>
                スプライトの回転角度を度数法(0°～360°)として表します。
                <br><br>
                0 ～ 360の間でクランプ(折り返し?)するので、365を設定すると 5を設定したことになります。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> <span class="string"></span> sprite.layer</span></span>
                スプライトの置かれている現在のレイヤー名を表します。存在しないレイヤーを指定しても何も起こりません。
                <br><br>
                デフォルトでは<span class="term">"BelowArena"</span> (オーバーワールドでは<span class="term">"Default"</span>) が指定されています。
                <br><br>
                Overworld Event sprites and Text Objects letter sprites can not have their layers set.
            </p><br>

            <p>
                <span class="function">sprite.Set(<span class="string"></span> newSprite)</span></span>
                スプライトの画像を変更します。倍率と回転は保持されます。
                <br><br>
                If you have an animation running with <span class="term">SetAnimation</span>, the animation will override your sprite change.
            </p><br>

            <p>
                <span class="function">sprite.SetParent(<span class="userdata">sprite</span> otherSpriteObject)</span></span>
                <span class="term">sprite</span>の親を<span class="term">otherSpriteObject</span>にします。
                <br><br>
                This will make the original sprite move along with the object it's parented to.
                <br><br>
                <span class="CYF"></span> NOTE: If you are in the <i>Overworld</i>, you can NOT use this to parent sprites to Event objects' sprites,
                or vice versa.<br>
                Text Object letter sprites can <i>only</i> be parented to other Text Object letter sprites.
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> sprite.Mask(<span class="string"></span> mode)</span></span>
                スプライトのマスクモードを表します。Does not function for Overworld Event sprites or Text Object letter sprites!
                <br><br>
                Available modes are:
                <ul>
                    <li><span class="term">off</span> - デフォルト値。特に効果は無い。</li><br>
                    <li><span class="term">box</span> - Any objects parented to this sprite are restricted to the bounding box of the sprite. Recommended for masking
                    bullets to the Arena and such things. Unfortunately doesn't seem to work well with rotated sprites, but this is still the recommended mode for
                    performance.</li><br>
                    <li><span class="term">sprite</span> - Any objects parented to this sprite will be "cookie cuttered" to the current image of the sprite.</li><br>
                    <li><span class="term">stencil</span> - Same as <span class="term">sprite</span>, except that the parent sprite itself is not visible.</li><br>
                    <li><span class="term">invertedsprite</span> - The reverse of <span class="term">sprite</span>; while the sprite itself is visible, any of its
                    children will only display when not inside the bounds of the sprite.</li><br>
                    <li><span class="term">invertedstencil</span> - Identical to <span class="term">invertedsprite</span> except that the parent sprite is not shown.</li><br>
                </ul>
                Anything parented to this sprite object through the use of <span class="term">SetParent</span> - including <b>Other Sprite Objects</b>,
                <b>Projectiles</b>, and even <b>Text Objects</b> - will all be masked according to the mask mode entered here.
                <br><br>
                If using <span class="term">invertedsprite</span> or <span class="term">invertedstencil</span>, you may be unable to change the mask mode
                back to a normal mode afterwards (other than "off"). We fear this issue is unavoidable and unfixable - as these inverted mask modes work by directly
                altering Unity's image display code.
                <br><br><br>
                <b>NOTE:</b> If you want to have a child that's not masked, you'll need to create a new invisible sprite (using the default
                sprite "empty" is recommended), parent both the intended parent and child sprite to the invisible sprite, and apply motion to the invisible
                sprite rather than the parent sprite.
            </p><br>

            <p>
                <span class="function new"><span class="CYF"></span> <span class="userdata">shader</span> sprite.shader</span></span>
                The shader object linked to this sprite object.
                <br><br>
                Be aware that due to the nature of shaders, it is possible for some shaders to break certain Create Your Frisk properties,
                such as sprite layering and sprite masking.<br>
                It is recommend that shaders used be based on the template shader provided in <span class="ref">Coding a Shader</span>.
                <br><br>
                See <span class="ref">The Shader Object</span> for more information.
            </p><br>

            <p>
                <span class="function">sprite.SetPivot(<span class="number"></span> x, <span class="number"></span> y)</span></span>
                Changes the point a sprite rotates and scales around.
                <br><br>
                <span class="term">(0, 0)</span> is the bottom-left corner of the sprite, <span class="term">(1, 1)</span> is the top-right corner.
                <br>
                You can also have values outside the 0-1 range.
            </p><br>

            <p>
                <span class="function">sprite.SetAnchor(<span class="number"></span> x, <span class="number"></span> y)</span></span>
                Changes the point a sprite anchors to when moving.
                <br><br>
                Most useful when rescaling a parent sprite and making this child sprite stick to a certain edge of it.
                <br>
                <span class="term">x</span> and <span class="term">y</span> should be between 0 and 1.
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> sprite.Move(<span class="number"></span> x, <span class="number"></span> y)</span></span>
                スプライトを右に<span class="term">x</span>ピクセル、上に<span class="term">y</span>ピクセル動かします。
                <br><br>
                <span class="term">sprite.x</span>及び<span class="term">sprite.y</span>を参照してください。
            </p><br>

            <p>
                <span class="function">sprite.MoveTo(<span class="number"></span> x, <span class="number"></span> y)</span></span>
                x座標とy座標を指定します。
                <br><br>
                <span class="term">sprite.x</span>及び<span class="term">sprite.y</span>を参照してください。
            </p><br>

            <p>
                <span class="function">sprite.MoveToAbs(<span class="number"></span> x, <span class="number"></span> y)</span></span>
                absxとabsyを同時に指定します。Moves a sprite to an absolute screen position, regardless of its parent settings.
                <br><br>
                <span class="term">sprite.absx</span>及び<span class="term">sprite.absy</span>を参照してください。
            </p><br>

            <p>
                <span class="function">sprite.Scale(<span class="number"></span> xscale, <span class="number"></span> yscale)</span></span>
                xscaleとyscaleを同時に指定します。
                <br><br>
                <span class="term">sprite.xscale</span>及び<span class="term">sprite.yscale</span>を参照してください。
            </p><br>

            <p>
                <span class="function">sprite.SetAnimation(<span class="luatable"><span class="string"></span></span> spriteTable, <span class="number"></span> timePerFrame = 1/30, <span class="CYF"></span> <span class="string"></span> prefix = "")</span></span>
                １フレームあたりの時間を秒単位で指定して、アニメーションを実行します。
                これは<span class="term">sprite.Set</span>で画像を変更するのと同じです。
                <span class="term">time_per_frame</span>を 1に指定すると、１秒で次の画像に変わります。
                <br><br>
                例) 
                <span class="term">sprite.SetAnimation({"sans_head1", "sans_head2", "sans_head3"})</span>
                <br><br>
                <span class="CYF"></span> <span class="term">prefix</span>: この値は、アニメーションの画像のパスに先頭に付く、共通の文字列です。
                <br><br>
                例) <span class="term">Sprites/character</span>内にあるスプライトを次のようにして読み込めます。<span class="term">sprite.SetAnimation({"spr1", "spr2", "spr3", "spr4", "spr5", "spr6"}, 1/30, "character")</span>.
                <br><br>
                <span class="CYF"></span> 違うサイズのスプライトもアニメーションできるよ！
            </p><br>

            <p>
                <span class="function">sprite.StopAnimation()</span></span>
                アニメーションが実行している場合に、アニメーションを停止させます。<br>
                アニメーションを停止させても、基の画像(最初の画像)には戻りません！ この関数を呼び出した直後に<span class="term">sprite.Set()</span>を呼び出す必要があります。
            </p><br>

            <p>
                <span class="function">sprite.SendToTop()</span></span>
                スプライトをレイヤーの１番上に移動させます。<br>If a sprite has 5
                children, for instance, you can use this to rearrange them internally.<br>
                ただし、この関数に関係なく、子スプライトは親の上に表示されます。
            </p><br>

            <p>
                <span class="function">sprite.SendToBottom()</span></span>
                スプライトをレイヤーの１番下に移動させます。<br><span class="term">SendToTop()</span>と同じルールが適用されます。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> sprite.MoveBelow(<span class="userdata">sprite</span> otherSpriteObject)</span></span>
                両方の親が同じである場合、呼び出し元のスプライトがもう一方のスプライトのすぐ下に移動します。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> sprite.MoveAbove(<span class="userdata">sprite</span> otherSpriteObject)</span></span>
                両方の親が同じである場合、呼び出し元のスプライトがもう一方のスプライトのすぐ上に移動します。
            </p><br>

            <p>
                <span class="function">sprite.Remove()</span></span>
                スプライトオブジェクトを削除します。<span class="term">isactive</span>以外のものを、取得や設定などするとエラーが発生します。<br>
                スプライトオブジェクトを削除すると、その<i>子スプライト</i>も全て削除されます。
                <br><br>
                <font color="#fff" style="font-size: 15px;"><span class="CYF"></span> メモ: retromodeを除き、
                <span class="term">bullet.sprite.Remove</span>を呼び出すと代わりに<span class="term">bullet.Remove</span>が呼び出されます。</font>
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> sprite.SetVar(<span class="string"></span> yourVariableName, value)
                <br></span>または <span class="function">sprite[<span class="string"> yourVariableName</span>]</span></span>
                スプライトオブジェクトに<span class="term">sprite.GetVar</span>で取得できる変数を設定します。<br>
                発射体(Projectile)の<span class="term">SetVar</span>と同じです。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> sprite.GetVar(<span class="string"></span> yourVariableName)
                <br></span>または <span class="function">sprite[<span class="string"> yourVariableName</span>] = value</span></span>
                <span class="term">sprite.SetVar</span>でスプライトオブジェクトに設定した変数を取得します。<br>
                発射体(Projectile)の<span class="term">GetVar</span>と同じです。
            </p><br>

            <p>
                <span class="function"><span class="CYF"></span> sprite.Dust(<span class="boolean"></span> playSound=true, <span class="boolean"></span> removeObject = false)</span></span>
                Undertaleの敵を殺したときに発生するちりのように、スプライトをちりにします。
                <br><br>
                <span class="term">removeObject</span>がtrueの場合、スプライト<strike>と発射体</strike>を削除します。
                <br><br>
                ちりになる時に鳴る音を消したいのなら、<span class="term">playSound</span>をfalseに設定する必要があります。
                <br><br><br><br>
                <font color="#fff" style="font-size: 15px;">* NOTE: Calling <span class="term">bullet.sprite.Dust(..., true)</span>
                will call <span class="term">bullet.Remove</span>, unless you are using retromode.</font>
            </p><br>

            <hr>

            <p>参考にまでに、exampleで使用しているアニメーションスクリプトを以下に示します。</p>
            <div class="code-container">
<pre class="brush: lua;">-- First, we can create the torso, legs and head.
sanstorso = CreateSprite("sans/sanstorso")
sanslegs = CreateSprite("sans/sanslegs")
sanshead = CreateSprite("sans/sanshead1")

--We parent the torso to the legs, so when you move the legs, the torso moves too.
--We do the same for attaching the head to the torso.
sanstorso.SetParent(sanslegs)
sanshead.SetParent(sanstorso)

--Now we adjust the height for the individual parts so they look more like a skeleton and less like a pile of bones.
sanslegs.y = 240
sanstorso.y = -5 --The torso's height is relative to the legs they're parented to.
sanshead.y = 40 --The head's height is relative to the torso it's parented to.

--We set the torso's pivot point to halfway horizontally, and on the bottom vertically,
--so we can rotate it around the bottom instead of the center.
sanstorso.SetPivot(0.5, 0)

--We set the torso's anchor point to the top center. Because the legs are pivoted on the bottom (so rescaling them only makes them move up),
--we want the torso to move along upwards with them.
sanstorso.SetAnchor(0.5, 1)
sanslegs.SetPivot(0.5, 0)

--Finally, we do some frame-by-frame animation just to show off the feature. You put in a list of sprites,
--and the time you want a sprite change to take. In this case, it's 1/2 of a second.
sanshead.SetAnimation({"sans/sanshead1", "sans/sanshead2", "sans/sanshead3"}, 1/2)

function AnimateSans()
    sanslegs.Scale(1, 1+0.1*math.sin(Time.time*2))
    sanshead.MoveTo(2*math.sin(Time.time), 40 + 2*math.cos(Time.time))
    sanshead.rotation = 10*math.sin(Time.time + 1)
    sanstorso.rotation = 10*math.sin(Time.time + 2)
end
</pre>
            </div>

        </div>

        <div class="tab-pane text-style" id="mercy">
            <h2 style="text-decoration: none; line-height:50px;">
                * YOU WON!<br>
                * You earned 0 EXP and 0 gold.<br>
                * also the nav menu is broken now
            </h2><br>
        </div>
    </div>
</div>

<div class="container">
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/fightbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/actbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/itembt_0.png" height="42">
    </div>
    <div class="col-xs-3"><a href="#mercy" data-toggle="tab"><img class="centerbt black" alt="Undertale fake button"
                                                                  src="../img/mercybt_0.png" height="42"></a>
    </div>
</div>
<br>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/show_hide_comments.js"></script>

<script type="text/javascript" src="../js/FontToggleButton.js"></script>
</body>
</html>