<!DOCTYPE html>
<!--
since you're here anyway: there's a small easter egg on the text commands page but it's probably not worth finding, sorry
you may notice this page's code is garbage: i'm not a web designer! ;-;
it's w3c valid, at least
-->

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>CYF ドキュメント - Miscオブジェクト</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../css/themesidebar.css" rel="stylesheet">
    <link href="../css/shThemeRDark.css" rel="stylesheet">

    <!-- Syntax highlighting -->
    <script type="text/javascript" src="../js/shCore.js"></script>
    <script type="text/javascript" src="../js/shBrushLua.js"></script>
    <script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<body>
<img src="../img/bg2.png" alt="Undertale background" class="backimg">
<div class="container arena black">
    <div class="col-md-2">
        <!--navigation-->
        <nav class="nav-sidebar">
            <ul class="nav tabs">
                <li class="li-header">基本</li>
                    <li><a href="../documentation.html">ようこそ</a></li>
                    <li><a href="howtoread.html">このドキュメントの読み方</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li><a href="controls.html">操作方法</a></li>
                    <li><a href="basic.html">基本構成</a></li>
                    <li><a href="unity.html"><span class="CYF"></span> Unity Setup (Optional)</a></li>
                    <li><a href="variables.html">予約変数</a></li>
                    <li><a href="terms.html">用語</a></li>
                <li class="li-header">API</li>
                    <li><a href="api-text.html">テキストコマンド</a></li>
                    <li class="new"><a href="api-events.html">ゲームイベント</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="li-indent">関数 &amp; オブジェクト:</li>
                        <li class="li-indent new"><a href="api-functions-main.html">その他の関数</a></li>
                        <li class="li-indent new"><a href="api-functions-player.html">Player オブジェクト</a></li>
                        <li class="li-indent"><a href="api-functions-script.html">Script オブジェクト</a></li>
                        <li class="li-indent"><a href="api-functions-audio.html">Audio オブジェクト</a></li>
                        <li class="li-indent"><a href="api-functions-newaudio.html"><span class="CYF"></span> NewAudio オブジェクト</a></li>
                        <li class="li-indent"><a href="api-functions-input.html">Input オブジェクト</a></li>
                        <li class="li-indent"><a href="api-functions-time.html">Time オブジェクト</a></li>
                        <li class="li-indent"><a href="cyf-inventory.html"><span class="CYF"></span> Inventory オブジェクト</a></li>
                        <li class="li-indent active new" style="margin-left:5px;">&gt; <span class="CYF"></span>Misc オブジェクト &lt;</li>
                        <li class="li-indent new"><a href="api-functions-discord.html"><span class="CYF"></span> The Discord Object</a></li>
                        <li class="li-indent"><a href="api-functions-waves.html">Arena オブジェクト</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li><a href="api-projectile.html">発射体(Projectile) 制御</a></li>
                    <li><a href="cyf-ppcollision.html"><span class="CYF"></span> The Pixel-Perfect Collision システム</a></li>
                    <li class="new"><a href="api-animation.html">スプライト &amp; アニメーション</a></li>
                    <li class="new"><a href="cyf-text.html"><span class="CYF"></span> Text オブジェクト</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                <li class="li-header"></span><span class="CYF"></span> <span class="new"></span>Shaders</li>
                    <li><a href="shaders.html">Introduction</a></li>
                    <li><a href="shaders-object.html">The Shader Object</a></li>
                    <li><a href="shaders-coding.html">Coding a Shader</a></li>
                    <hr style="margin-top:10px;margin-bottom:10px;">
                <li class="li-header"><span class="CYF"></span> Overworld</li>
                    <li class="new"><a href="overworld.html">Basics</a></li>
                    <li><a href="overworld-howto-map.html">How to create a map</a></li>
                    <li><a href="overworld-howto-event.html">How to create an event</a></li>
                    <li><a href="overworld-howto-animevent.html">How to animate an event</a></li>
                    <li class="new"><a href="overworld-howto-shop.html">How to create a shop</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="li-indent"><span class="CYF"></span> Overworld Objects:</li>
                        <li class="li-indent"><a href="overworld-object-general.html">The General Object</a></li>
                        <li class="li-indent"><a href="overworld-object-event.html">The Event Object</a></li>
                        <li class="li-indent"><a href="overworld-object-player.html">The Player Object</a></li>
                        <li class="li-indent"><a href="overworld-object-screen.html">The Screen Object</a></li>
                        <li class="li-indent"><a href="overworld-object-inventory.html">The Inventory Object</a></li>
                        <li class="li-indent new"><a href="overworld-object-map.html">The Map Object</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                <li class="li-header">素材</li>
                    <li><a href="../media/dialogoptions.png">吹き出し一覧</a></li>
                    <li><a href="api-keys.html"><span class="CYF"></span> キーリスト</a></li>
            </ul>
        </nav>
    </div>
    <!--tabs'n'shit-->
    <div class="tab-content col-md-10">
        <div class="tab-pane active text-style" id="api-functions-misc">
            <p>
                <br><span class="function"><span class="CYF"></span> Misc オブジェクト [E/M/W]</span>
                Misc オブジェクトはウインドウ関連及びコンピュータ関連の関数がいくつかあります。
            </p>
            <ul>
                <li><span class="string"></span> <span class="term">Misc.MachineName</span> (読み取り専用) - Returns the name of the player's session.</li><br>
                <li><span class="string"></span> <span class="term">Misc.OSType</span> - <span class="term">Windows</span>か<span class="term">Mac</span>か<span class="term">Linux</span>を返します。</li><br>
                <li><span class="new"></span><span class="userdata">shader</span> <span class="term">Misc.ScreenShader</span> - A shader object that affects the entire screen, instead of a single sprite.<br>
                See <span class="ref">The Shader Object</span> for more information.</li><br>
                <li>
                    <span class="term">Misc.ShakeScreen(<span class="number"></span> durationInFrames, <span class="number"></span> intensity = 3, <span class="boolean"></span> isIntensityDecreasing = true)</span>
                    - <span class="term">durationInFrames</span>フレーム間、最大<span class="term">intensity</span>ピクセル分画面を揺らします。<br>
                    <span class="term">isIntensityDecreasing</span>をtrueに指定すると、時間経過とともに揺れが小さくなります。
                </li><br>
                <li><span class="term">Misc.StopShake()</span> - 画面の揺れを止めます。そもそも揺れていない場合は何も起こりません。
                otherwise.</li><br>
                <li><span class="term">Misc.MoveCamera(<span class="number"></span> x, <span class="number"></span> y)</span> - カメラ位置を右に<span class="term">x</span>ピクセル、上に<span class="term">y</span>ピクセル動かします。</li><br>
                <li><span class="term">Misc.MoveCameraTo(<span class="number"></span> x, <span class="number"></span> y)</span> - 画面左下を原点とし、カメラを座標(<span class="term">x</span>, <span class="term">y</span>)に移動させます。<br>
                <span class="term">(0, 0)</span>が最初の(元の)位置を表します。</li><br>
                <li><span class="term">Misc.ResetCamera()</span> - カメラの位置をリセットします。<span class="term">MoveCameraTo(0, 0)</span>を呼び出すのと同じです。in the Overworld, this instead resets the camera to the Player's position.</li><br>
                <li><span class="number"></span> <span class="term">Misc.cameraX</span> - 画面左下を原点とし、カメラのx座標を取得または設定します。</li><br>
                <li><span class="number"></span> <span class="term">Misc.cameraY</span> - 画面左下を原点とし、カメラのy座標を取得または設定します。</li><br>
                <li><span class="boolean"></span> <span class="term">Misc.FullScreen</span> - ユーザーがフルスクリーンモードかどうか取得または設定します。</li><br>
                <li><span class="new"></span><span class="number"></span> <span class="term">Misc.WindowWidth</span> (読み取り専用) - Returns the width of the game window if it were running in windowed mode (even in fullscreen). If in wide fullscreen with <span class="term">Misc.SetWideFullscreen</span>, this includes the extra displayed pixels.</li><br>
                <li>
                    <span class="new"></span><span class="number"></span> <span class="term">Misc.WindowHeight</span> (読み取り専用) - Returns the height of the game window if it were running in windowed mode (even in fullscreen).
                    <br><br>
                    Use <span class="term">Misc.WindowHeight/480</span> to calculate the scale at which CYF is being drawn to your window (or your screen, if in fullscreen).
                </li><br>
                <li><span class="number"></span> <span class="term">Misc.ScreenWidth</span> (読み取り専用) - Returns the width of the user's screen in windowed mode, or the number of displayed pixel columns when in fullscreen.</li><br>
                <li><span class="number"></span> <span class="term">Misc.ScreenHeight</span> (読み取り専用) - Returns the height of the user's screen in windowed mode, or the number of displayed pixel rows when in fullscreen.</li><br>
                <li><span class="number"></span> <span class="term">Misc.MonitorWidth</span> (読み取り専用) - Returns the width of the user's monitor, regardless of the user's settings or if <span class="term">Misc.SetWideFullscreen</span> has been used.</li><br>
                <li><span class="number"></span> <span class="term">Misc.MonitorHeight</span> (読み取り専用) - Returns the height of the user's monitor, regardless of the user's settings or if <span class="term">Misc.SetWideFullscreen</span> has been used.</li><br>
                <li>
                    <span class="term">Misc.SetWideFullscreen(<span class="boolean"></span> wide)</span> - If the user is playing with an aspect ratio wider than 4:3, this function will expand the view in fullscreen to show the space to the left and right of the 640x480 screen space.
                    <br><br>
                    It will only take effect when in fullscreen, and will automatically resize the view if already in fullscreen.<br>
                    If the user's aspect ratio is 4:3 or thinner, nothing will change.<br>
                    Note that object positions, such as projectiles and sprites, will remain the same.
                    <br><br>
                    <font color="red">* NOTE: Only allowed during battles.</font>
                    <br><br><br>
                    You can use this code to determine how much space you have available on either side (still using the relative position system in which the screen is always assumed to be 640x480):
                    <br><br>
                    <div class="code-container">
   <pre class="brush: lua;">local displayedWidth = Misc.MonitorHeight / 0.75
local scale = 640 / displayedWidth
local widthOnEachSide = math.max(scale * (Misc.MonitorWidth - displayedWidth) / 2, 0)

CreateProjectileAbs("bullet", 0 - widthOnEachSide, 240) -- creates a bullet at the absolute left side of the screen when in wide fullscreen</pre>
            </div>
                    Here, if <span class="term">widthOnEachSide</span> is 0, the user is using a resolution that is 4:3 or thinner. Be sure to check if this number is greater than 0 before doing operations that require fullscreen!
                    <br><br>
                </li><br>
                <li><span class="term">Misc.DestroyWindow()</span> - ウインドウを即座に閉じます。</li><br>
            </ul>
            <hr>
            <span style="color:#aa0000;font-size:18px;">以下の変数及び関数は<u>Windows</u>限定です！！</span><br>
            変数<span class="term">windows</span>を使用して、ユーザーがWindowsOSで遊んでいるかの確認を忘れないでください！<br><br>
            <ul>
                <li><span class="string"></span> <span class="term">Misc.WindowName</span> - ウインドウの名前(タイトルバーに表示される名前)を取得または設定します。</li><br>
                <li><span class="number"></span> <span class="term">Misc.WindowX</span> - Gets or sets the X position of the bottom left corner of the window.</li><br>
                <li><span class="number"></span> <span class="term">Misc.WindowY</span> - Gets or sets the Y position of the bottom left corner of the window.</li><br>
                <li><span class="term">Misc.MoveWindow(<span class="number"></span> X, <span class="number"></span>  Y)</span> - Moves the window X pixels horizontally and Y pixels vertically.</li><br>
                <li><span class="term">Misc.MoveWindowTo(<span class="number"></span> X, <span class="number"></span> Y)</span> - Moves the bottom left corner of the window to the given coordinates.
                </li><br>
            </ul>
            <hr>
            <h3>File 関数</h3>
            <br>
            <br><span class="function"><span class="boolean"></span> Misc.FileExists(<span class="string"></span> path)</span>
            この関数を使用して、ファイルが存在するか調べます。ただし、<u>Modフォルダ内限定</u>です。<br>
            パスに<span class="term">../</span>を指定して、上の階層のファイルを指定することはできません。
            <br><br>
            <ul>
                <li><span class="term">path</span>: Modフォルダを基準とした、ファイルのパス<br>
                    <span class="term">Lua</span>フォルダなどのサブフォルダを指定できます。</li><br>
            </ul>
            <span class="term">Misc.OpenFile</span>を使用する時、ファイルが存在するか調べる際は、読み取る前にこれを使用してください。
            <br><br>
            <br><span class="function"><span class="luatable"><span class="string"></span></span> Misc.ListDir(<span class="string"></span> path, <span class="boolean"></span> getFolders = false)</span>
            この関数を使用して、指定した階層内のファイルやフォルダの名前一覧を取得します。ただし、<u>Modフォルダ内限定</u>です。<br>
            パスに<span class="term">../</span>を指定して、上の階層のファイルを指定することはできません。
            <br><br>
            <ul>
                <li><span class="term">path</span>: Modフォルダを基準とした、ファイルのパス<br>
                    <span class="term">Lua</span>フォルダなどのサブフォルダを指定できます。</li><br>
                <li><span class="term">getFolders</span>: trueを指定した場合、<span class="term">path</span>内の<b>フォルダ</b>の一覧を返します。<br>
                    falseの場合、<span class="term">path</span>内の<b>ファイル</b>の一覧を返します。</li>
            </ul>
            <br><br>
            <br><span class="function"><span class="boolean"></span> Misc.DirExists(<span class="string"></span> path)</span>
            この関数を使用して、フォルダが存在するか調べます。ただし、<u>Modフォルダ内限定</u>です。<br>
            パスに<span class="term">../</span>を指定して、上の階層のファイルを指定することはできません。
            <br><br>
            <ul>
                <li><span class="term">path</span>: Modフォルダを基準とした、ファイルのパス<br>
                    <span class="term">Lua</span>フォルダなどのサブフォルダを指定できます。</li><br>
            </ul>
            <br><span class="function"><span class="boolean"></span> Misc.CreateDir(<span class="string"></span> path)</span>
            Modフォルダを基準とした<span class="term">path</span>でフォルダの作成します。<br>
            パスに<span class="term">../</span>を指定して、上の階層のファイルを指定することはできません。
            <br><br>
            フォルダが正常に作成された場合は<span class="term">true</span>、失敗した場合は<span class="term">false</span>を返します。
            <br><br>
            <br><span class="function"><span class="boolean"></span> Misc.MoveDir(<span class="string"></span> path, <span class="string"></span> newPath)</span>
            Modフォルダを基準としたパス<span class="term">path</span>から、Modフォルダを基準とした別のパス<span class="term">newPath</span>に
            フォルダを移動させます。<br>
            パスに<span class="term">../</span>を指定して、上の階層のファイルを指定することはできません。
            <br><br>
            フォルダが正常に移動した場合は<span class="term">true</span>、失敗した場合は<span class="term">false</span>を返します。
            <br><br>
            <br><span class="function"><span class="boolean"></span> Misc.RemoveDir(<span class="string"></span> path, <span class="boolean"></span> force = false)</span>
            Modフォルダを基準としたパス<span class="term">path</span>にあるフォルダを削除します。
            パスに<span class="term">../</span>を指定して、上の階層のファイルを指定することはできません。
            <br><br>
            <ul>
                <li><span class="term">force</span>: trueを指定すると、フォルダの中身があっても強制的に削除します。falseの場合は、空のフォルダのみ削除します。</li>
            </ul>
            フォルダが正常に削除された場合は<span class="term">true</span>、失敗した場合は<span class="term">false</span>を返します。
            <br><br>
            <br><span class="function">Misc.OpenFile(<span class="string"></span> path, <span class="string"></span> mode = "rw") returns <span class="userdata">File</span></span>
            この関数は、読み取りや書き取りのためにフォルダを開きます。ただし、<u>Modフォルダ内限定</u>です。<br>
            パスに<span class="term">../</span>を指定して、上の階層のファイルを指定することはできません。
            <br><br>
            <ul>
                <li><span class="term">path</span>: Modフォルダを基準とした、ファイルのパス<br>
                    <span class="term">Lua</span>フォルダなどのサブフォルダを指定できます。</li><br>
                <li>
                    <span class="term">mode</span>: ファイルを開くモードを指定します:
                    <ul>
                        <li><span class="term">r</span>: ファイルは<u>読み取り</u>のみ行えます。</li><br>
                        <li><span class="term">w</span>: ファイルは<u>書き取り</u>のみに行えます。</li><br>
                        <li><span class="term">rw</span>: ファイルは<u>読み書きどちらも</u>行えます。</li><br>
                    </ul>
                    <span class="term">File.Write</span>を使用すれば、ファイルの<u>作成</u>を行えます。(下記参照)
                </li>
            </ul>
            <br><br>
            この関数は、<span class="userdata">File</span> オブジェクトを返します。:
            <br><br>
            <br><span class="function"> File オブジェクト [E/M/W]</span>
            <br><br>
            <ul>
                <span class="function ref" style="display: inline;">全てのモード</span>
                <br><br>
                <li><span class="string"></span> <span class="term">File.openMode</span> (読み取り専用):
                    このFileオブジェクトのモード。<br>
                    これは<span class="term">Misc.OpenFile</span>の<span class="term">mode</span>に代入したものです。</li><br>
                <li><span class="number"></span> <span class="term">File.lineCount</span> (読み取り専用):
                    ファイルの行数。</li><br>
                <li><span class="number"></span> <span class="term">File.filePath</span> (読み取り専用):
                    ファイルの完全な絶対パス。</li><br>
                <li><span class="term">File.Move(<span class="string"></span> new_path)</span>:
                    ファイルを<span class="term">new_path</span>に移動させます。<br>
                    ファイル名の変更に使用できます。</li><br>
                <li><span class="term">File.Copy(<span class="string"></span> new_path, <span class="boolean"></span> overwrite = false)</span>:
                    ファイルを<span class="term">new_path</span>にコピーします。<br>
                    <span class="term">overwrite</span>をtrueに指定すると、既に存在してるファイルが上書きされます。</li><br>
                <hr><br>
                <span class="function ref" style="display: inline;">"r"</span>
                <br><br>
                <li><span class="string"></span> <span class="term">File.ReadLine(<span class="number"></span> line)</span>:
                    ファイルの#<span class="term">line</span>行目のデータを文字列として返します。</li><br>
                <li><span class="luatable"><span class="string"></span></span> <span class="term">File.ReadLines()</span>:
                    ファイル内のデータを行ごとに区切って、文字列の配列として返します。<br>
                    全ての行に対して<span class="term">File.ReadLine</span>を使用するのと同じです。</li><br>
                <li><span class="new"></span><span class="luatable"><span class="number"></span></span> <span class="term">File.ReadBytes()</span>:
                    ファイル内の個々のバイトを数値の配列として返します。
                    <br><br>
                    この機能を使用すると、ファイルの大きさによってはラグが生じ、また配列の大きさも大きくなるので注意してください。</li>
                <br><br>
                <span class="function ref" style="display: inline;">"w"</span>
                <br><br>
                <li><span class="term">File.Write(<span class="string"></span> data, <span class="boolean"></span> append = true)</span>:
                    <span class="term">data</span>の文字列をファイルに書き込みます。<span class="term">\n</span>が使用できます。
                    <br><br>
                    ファイルが存在しない場合は作成されます。
                    <br><br>
                    <span class="term">append</span>をtrueに指定すると、ファイルの末尾に改行無しで文字列が追加されます。
                    falseの場合、ファイルの内容が指定した文字列になります。</li><br>
                <li><span class="term">File.ReplaceLine(<span class="number"></span> line, <span class="string"></span> data)</span>:
                    ファイルの#<span class="term">line</span>行目を<span class="term">data</span>に置き換えます。<br>
                    <span class="term">\n</span>が使用できます。</li><br>
                <li><span class="term">File.DeleteLine(<span class="number"></span> line)</span>:
                    Removes line #<span class="term">line</span> from the file.<br>
                    The line that came after it previously is now line #<span class="term">line</span>.</li><br>
                <li><span class="new"></span><span class="term">File.WriteBytes(<span class="luatable"><span class="number"></span></span> data)</span>:
                    数値の配列をバイトとしてファイルに書き込みます。ファイルの内容は、全て指定したデータに置き換わります。</li><br>
                <li><span class="term">File.Delete()</span> <span class="ref">(w)</span>:
                    ファイルを削除します。<br>
                    ファイルが<span class="term">"w"</span>または<span class="term">"rw"</span>モードで開かれている場合、<span class="term">File.Write</span>を使用して、ファイルを再作成できます。</li><br>
                <br>
            </ul>
        </div>

        <div class="tab-pane text-style" id="mercy">
            <h2 style="text-decoration: none; line-height:50px;">
                * YOU WON!<br>
                * You earned 0 EXP and 0 gold.<br>
                * also the nav menu is broken now
            </h2><br>
        </div>
    </div>
</div>

<div class="container">
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/fightbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/actbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/itembt_0.png" height="42">
    </div>
    <div class="col-xs-3"><a href="#mercy" data-toggle="tab"><img class="centerbt black" alt="Undertale fake button"
                                                                  src="../img/mercybt_0.png" height="42"></a>
    </div>
</div>
<br>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/show_hide_comments.js"></script>

<script type="text/javascript" src="../js/FontToggleButton.js"></script>
</body>
</html>
